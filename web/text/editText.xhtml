<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    template="../base-template.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="title">Editar Texto</ui:define>
    <ui:define name="content">
        <p:messages autoUpdate="true" id="msgEditText" showDetail="true" showSummary="false" closable="true" />
        <h:form acceptcharset="ISO-8859-1" enctype="multipart/form-data" id="editTextForm">
            <p:panelGrid columns="2">
                <h:outputText value="T&iacute;tulo"/>
                <p:inputText id="txtTitle" style="width: 700px" value="#{textManager.selected.txtTitle}" />
                <h:outputText value="C&oacute;digo"/>
                <p:inputText id="txtCode" style="width: 100px" value="#{textManager.selected.txtCode}" />
                <h:outputText value="Autor" />
                <p:inputText id="txtAuthor" style="width: 700px" value="#{textManager.selected.txtAuthor}" />
                <h:outputText value="Palabras clave MARC21" />
                <p:inputText id="kwMarc21" style="width: 700px" value="#{textManager.selected.kwMarc21.kwValue}" />
                <h:outputText value="Palabras clave RDDU" />
                <p:inputText id="kwRddu" style="width: 700px" value="#{textManager.selected.kwRddu.kwValue}" />
                <h:outputText value="Palabras clave EXPERTO" />
                <p:inputText id="kwExpert" style="width: 700px" value="#{textManager.selected.kwExpert.kwValue}" />
            </p:panelGrid>
            <p:panelGrid columns="2" >
                <p:inputTextarea autoResize="false" cols="80" id="txtText" rows="17" value="#{textManager.selected.txtText}" />
                <p:panelGrid columns="2">
                    <p:commandButton action="#{textManager.loadEditFromTxt()}" ajax="false" icon="ui-icon-clipboard" value="Importar TXT" />
                    <p:fileUpload mode="simple" value="#{textManager.txtFile}" /> 
                    <p:commandButton ajax="false" disabled="true" icon="ui-icon-note" value="Importar PDF" />
                    <p:fileUpload mode="simple" value="#{textManager.pdfFile}" />
                    <p:commandButton action="#{textManager.cleanEditTexForm()}" ajax="false" icon="ui-icon-trash" value="Limpiar" />
                </p:panelGrid>
            </p:panelGrid>
            <p:commandButton action="/index?faces-redirect=true" icon="ui-icon-cancel" id="btnCancel" value="Cancelar" />
            <p:commandButton action="#{textManager.editSelected()}" ajax="false" icon="ui-icon-disk" id="btnEdit" value="Modificar" />
        </h:form>
    </ui:define>
</ui:composition>